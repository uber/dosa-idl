// Code generated by thriftrw-plugin-yarpc
// @generated

package dosaclient

import (
	"context"
	"go.uber.org/thriftrw/wire"
	"go.uber.org/yarpc/api/transport"
	"go.uber.org/yarpc/encoding/thrift"
	"go.uber.org/yarpc"
	"github.com/uber/dosa-idl/.gen/dosa"
)

// Interface is a client for the Dosa service.
type Interface interface {
	BatchRead(
		ctx context.Context,
		Request *dosa.BatchReadRequest,
		opts ...yarpc.CallOption,
	) (*dosa.BatchReadResponse, error)

	CheckSchema(
		ctx context.Context,
		Request *dosa.CheckSchemaRequest,
		opts ...yarpc.CallOption,
	) (*dosa.CheckSchemaResponse, error)

	CreateIfNotExists(
		ctx context.Context,
		Request *dosa.CreateRequest,
		opts ...yarpc.CallOption,
	) error

	CreateScope(
		ctx context.Context,
		Request *dosa.CreateScopeRequest,
		opts ...yarpc.CallOption,
	) error

	DropScope(
		ctx context.Context,
		Request *dosa.DropScopeRequest,
		opts ...yarpc.CallOption,
	) error

	Range(
		ctx context.Context,
		Request *dosa.RangeRequest,
		opts ...yarpc.CallOption,
	) (*dosa.RangeResponse, error)

	Read(
		ctx context.Context,
		Request *dosa.ReadRequest,
		opts ...yarpc.CallOption,
	) (*dosa.ReadResponse, error)

	Remove(
		ctx context.Context,
		Request *dosa.RemoveRequest,
		opts ...yarpc.CallOption,
	) error

	Scan(
		ctx context.Context,
		Request *dosa.ScanRequest,
		opts ...yarpc.CallOption,
	) (*dosa.ScanResponse, error)

	Search(
		ctx context.Context,
		Request *dosa.SearchRequest,
		opts ...yarpc.CallOption,
	) (*dosa.SearchResponse, error)

	TruncateScope(
		ctx context.Context,
		Request *dosa.TruncateScopeRequest,
		opts ...yarpc.CallOption,
	) error

	Upsert(
		ctx context.Context,
		Request *dosa.UpsertRequest,
		opts ...yarpc.CallOption,
	) error

	UpsertSchema(
		ctx context.Context,
		Request *dosa.UpsertSchemaRequest,
		opts ...yarpc.CallOption,
	) error
}

// New builds a new client for the Dosa service.
//
// 	client := dosaclient.New(dispatcher.ClientConfig("dosa"))
func New(c transport.ClientConfig, opts ...thrift.ClientOption) Interface {
	return client{
		c: thrift.New(thrift.Config{
			Service:      "Dosa",
			ClientConfig: c,
		}, opts...),
	}
}

func init() {
	yarpc.RegisterClientBuilder(func(c transport.ClientConfig) Interface {
		return New(c)
	})
}

type client struct {
	c thrift.Client
}

func (c client) BatchRead(
	ctx context.Context,
	_Request *dosa.BatchReadRequest,
	opts ...yarpc.CallOption,
) (success *dosa.BatchReadResponse, err error) {

	args := dosa.Dosa_BatchRead_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_BatchRead_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	success, err = dosa.Dosa_BatchRead_Helper.UnwrapResponse(&result)
	return
}

func (c client) CheckSchema(
	ctx context.Context,
	_Request *dosa.CheckSchemaRequest,
	opts ...yarpc.CallOption,
) (success *dosa.CheckSchemaResponse, err error) {

	args := dosa.Dosa_CheckSchema_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_CheckSchema_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	success, err = dosa.Dosa_CheckSchema_Helper.UnwrapResponse(&result)
	return
}

func (c client) CreateIfNotExists(
	ctx context.Context,
	_Request *dosa.CreateRequest,
	opts ...yarpc.CallOption,
) (err error) {

	args := dosa.Dosa_CreateIfNotExists_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_CreateIfNotExists_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	err = dosa.Dosa_CreateIfNotExists_Helper.UnwrapResponse(&result)
	return
}

func (c client) CreateScope(
	ctx context.Context,
	_Request *dosa.CreateScopeRequest,
	opts ...yarpc.CallOption,
) (err error) {

	args := dosa.Dosa_CreateScope_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_CreateScope_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	err = dosa.Dosa_CreateScope_Helper.UnwrapResponse(&result)
	return
}

func (c client) DropScope(
	ctx context.Context,
	_Request *dosa.DropScopeRequest,
	opts ...yarpc.CallOption,
) (err error) {

	args := dosa.Dosa_DropScope_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_DropScope_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	err = dosa.Dosa_DropScope_Helper.UnwrapResponse(&result)
	return
}

func (c client) Range(
	ctx context.Context,
	_Request *dosa.RangeRequest,
	opts ...yarpc.CallOption,
) (success *dosa.RangeResponse, err error) {

	args := dosa.Dosa_Range_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_Range_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	success, err = dosa.Dosa_Range_Helper.UnwrapResponse(&result)
	return
}

func (c client) Read(
	ctx context.Context,
	_Request *dosa.ReadRequest,
	opts ...yarpc.CallOption,
) (success *dosa.ReadResponse, err error) {

	args := dosa.Dosa_Read_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_Read_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	success, err = dosa.Dosa_Read_Helper.UnwrapResponse(&result)
	return
}

func (c client) Remove(
	ctx context.Context,
	_Request *dosa.RemoveRequest,
	opts ...yarpc.CallOption,
) (err error) {

	args := dosa.Dosa_Remove_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_Remove_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	err = dosa.Dosa_Remove_Helper.UnwrapResponse(&result)
	return
}

func (c client) Scan(
	ctx context.Context,
	_Request *dosa.ScanRequest,
	opts ...yarpc.CallOption,
) (success *dosa.ScanResponse, err error) {

	args := dosa.Dosa_Scan_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_Scan_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	success, err = dosa.Dosa_Scan_Helper.UnwrapResponse(&result)
	return
}

func (c client) Search(
	ctx context.Context,
	_Request *dosa.SearchRequest,
	opts ...yarpc.CallOption,
) (success *dosa.SearchResponse, err error) {

	args := dosa.Dosa_Search_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_Search_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	success, err = dosa.Dosa_Search_Helper.UnwrapResponse(&result)
	return
}

func (c client) TruncateScope(
	ctx context.Context,
	_Request *dosa.TruncateScopeRequest,
	opts ...yarpc.CallOption,
) (err error) {

	args := dosa.Dosa_TruncateScope_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_TruncateScope_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	err = dosa.Dosa_TruncateScope_Helper.UnwrapResponse(&result)
	return
}

func (c client) Upsert(
	ctx context.Context,
	_Request *dosa.UpsertRequest,
	opts ...yarpc.CallOption,
) (err error) {

	args := dosa.Dosa_Upsert_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_Upsert_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	err = dosa.Dosa_Upsert_Helper.UnwrapResponse(&result)
	return
}

func (c client) UpsertSchema(
	ctx context.Context,
	_Request *dosa.UpsertSchemaRequest,
	opts ...yarpc.CallOption,
) (err error) {

	args := dosa.Dosa_UpsertSchema_Helper.Args(_Request)

	var body wire.Value
	body, err = c.c.Call(ctx, args, opts...)
	if err != nil {
		return
	}

	var result dosa.Dosa_UpsertSchema_Result
	if err = result.FromWire(body); err != nil {
		return
	}

	err = dosa.Dosa_UpsertSchema_Helper.UnwrapResponse(&result)
	return
}
